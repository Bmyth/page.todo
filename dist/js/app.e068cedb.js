(function(t){function i(i){for(var s,r,o=i[0],d=i[1],c=i[2],u=0,k=[];u<o.length;u++)r=o[u],e[r]&&k.push(e[r][0]),e[r]=0;for(s in d)Object.prototype.hasOwnProperty.call(d,s)&&(t[s]=d[s]);l&&l(i);while(k.length)k.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,i=0;i<a.length;i++){for(var n=a[i],s=!0,o=1;o<n.length;o++){var d=n[o];0!==e[d]&&(s=!1)}s&&(a.splice(i--,1),t=r(r.s=n[0]))}return t}var s={},e={app:0},a=[];function r(i){if(s[i])return s[i].exports;var n=s[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,i,n){r.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,i){if(1&i&&(t=r(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var s in t)r.d(n,s,function(i){return t[i]}.bind(null,s));return n},r.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(i,"a",i),i},r.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],d=o.push.bind(o);o.push=i,o=o.slice();for(var c=0;c<o.length;c++)i(o[c]);var l=d;a.push([0,"chunk-vendors"]),n()})({0:function(t,i,n){t.exports=n("56d7")},"56d7":function(t,i,n){"use strict";n.r(i);n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("v-app",[n("router-view")],1)},a=[],r={name:"App",data:function(){return{}}},o=r,d=n("2877"),c=n("6544"),l=n.n(c),u=n("7496"),k=Object(d["a"])(o,e,a,!1,null,null,null),h=k.exports;l()(k,{VApp:u["a"]});var f=n("f309");s["a"].use(f["a"]);var p=new f["a"]({icons:{iconfont:"mdi"}}),v=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("v-container",[n("v-card",{staticClass:"mx-auto",attrs:{"max-width":"900"}},[n("v-toolbar",{attrs:{color:"pink",dark:""}},[n("v-toolbar-title",[t._v("Todo List")]),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(i){return i.stopPropagation(),t.showTaskCreate(i)}}},[n("v-icon",[t._v("mdi-plus")])],1),n("v-btn",{attrs:{icon:""},on:{click:function(i){return i.stopPropagation(),t.showTaskPool(i)}}},[n("v-icon",[t._v("mdi-calendar-check-outline")])],1)],1),n("v-list",{attrs:{"two-line":""}},[n("v-list-item-group",{attrs:{multiple:"","active-class":"pink--text"}},[t._l(t.currentTasks,function(i,s){return[n("v-list-item",{key:i.id},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"text-left"},[n("span",[t._v(t._s(i.text))])])],1),n("v-list-item-action",{staticClass:"task-opts"},[n("v-btn",{attrs:{text:"",icon:"",small:"",color:"pink"},on:{click:function(n){return t.showTaskOpt(i)}}},[n("v-icon",[t._v("mdi-dots-vertical")])],1)],1)],1),s+1<t.tasks.length?n("v-divider",{key:s}):t._e()]})],2)],1)],1),n("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.showTaskOptDlg,callback:function(i){t.showTaskOptDlg=i},expression:"showTaskOptDlg"}},[n("v-card",{staticClass:"mx-auto",attrs:{"max-width":"300",tile:""}},[n("v-list",[n("v-subheader",[t._v("\n          Options\n        ")]),n("v-list-item-group",{attrs:{multiple:"",color:"primary"}},[n("v-list-item",{directives:[{name:"show",rawName:"v-show",value:t.showPickUpOpt(),expression:"showPickUpOpt()"}],on:{click:t.pickUpTask}},[n("v-list-item-icon",[n("v-icon",{attrs:{color:"pink"}},[t._v("mdi-flag")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Pick it")])],1)],1),n("v-list-item",{directives:[{name:"show",rawName:"v-show",value:t.showFinishOpt(),expression:"showFinishOpt()"}],on:{click:t.finishTask}},[n("v-list-item-icon",[n("v-icon",{attrs:{color:"green"}},[t._v("mdi-check")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Finish")])],1)],1),n("v-list-item",{on:{click:t.showTaskPrepend}},[n("v-list-item-icon",[n("v-icon",{attrs:{color:"purple"}},[t._v("mdi-lightbulb-on-outline")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Something first")])],1)],1),n("v-list-item",{directives:[{name:"show",rawName:"v-show",value:t.showNextTimeOpt(),expression:"showNextTimeOpt()"}],on:{click:t.putBackTask}},[n("v-list-item-icon",[n("v-icon",{attrs:{color:"orange"}},[t._v("mdi-keyboard-return")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Next time")])],1)],1),n("v-list-item",{on:{click:t.showTaskEdit}},[n("v-list-item-icon",[n("v-icon",{attrs:{color:"green"}},[t._v("mdi-lead-pencil")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Edit")])],1)],1),n("v-list-item",{on:{click:t.deleteTask}},[n("v-list-item-icon",[n("v-icon",{attrs:{color:"red"}},[t._v("mdi-close")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Delete")])],1)],1)],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.showTaskEditDlg,callback:function(i){t.showTaskEditDlg=i},expression:"showTaskEditDlg"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline",domProps:{textContent:t._s(t.taskEditDlgHeadline)}})]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-textarea",{attrs:{label:t.taskEditDlgLabel,rows:"1","prepend-icon":"mdi-calendar-check-outline"},model:{value:t.onEditTaskText,callback:function(i){t.onEditTaskText=i},expression:"onEditTaskText"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-select",{attrs:{items:t.RootTasks,hint:"Parent Task","persistent-hint":"","prepend-icon":"mdi-nature"},model:{value:t.onEditTaskParentId,callback:function(i){t.onEditTaskParentId=i},expression:"onEditTaskParentId"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-checkbox",{attrs:{label:"Finish",disabled:""},model:{value:t.onEditTaskFinish,callback:function(i){t.onEditTaskFinish=i},expression:"onEditTaskFinish"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeTaskEditDlg}},[t._v("Close")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.confirmTaskEdit}},[t._v("Save")])],1)],1)],1),n("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.showTaskPoolDlg,callback:function(i){t.showTaskPoolDlg=i},expression:"showTaskPoolDlg"}},[n("v-card",[n("v-toolbar",{attrs:{dark:"",color:"pink"}},[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(i){t.showTaskPoolDlg=!1}}},[n("v-icon",[t._v("mdi-close")])],1),n("v-toolbar-title",[t._v("All Tasks")]),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(i){return i.stopPropagation(),t.showTaskCreate(i)}}},[n("v-icon",[t._v("mdi-plus")])],1)],1),t._l(t.tasks,function(i,s){return n("v-card",{key:s,staticClass:"my-0 task-card",class:t.taskCardClass(i),on:{click:function(n){return t.onClickTaskItem(i)}}},[n("v-card-text",{staticClass:"task-text"},[n("p",[n("v-icon",{staticClass:"flag",attrs:{color:"pink"}},[t._v("mdi-flag")]),t._v("\n            "+t._s(i.text)+"\n            "),n("span",[t._v(t._s(t.progressText(i)))])],1)]),n("v-card-text",{staticClass:"top-task-text"},[n("p",[t._v(t._s(t.topTaskText(i)))])]),n("v-card-text",{staticClass:"task-children"},[s+1<t.tasks.length?n("v-divider",{key:s}):t._e(),t._l(i.child,function(i,s){return n("v-chip",{key:s,staticClass:"ma-2",class:t.taskClass(i),attrs:{left:"",outlined:"",label:"",color:"grey","darken-2":""},on:{click:function(n){return n.stopPropagation(),t.showTaskOpt(i)}}},[n("v-icon",{staticClass:"flag",attrs:{color:"pink"}},[t._v("mdi-flag")]),t._v("\n            "+t._s(i.text)+"\n          ")],1)}),n("v-chip",{staticClass:"ma-2",class:t.taskClass(i),attrs:{color:"grey","darken-2":"",outlined:"",label:""},on:{click:function(n){return n.stopPropagation(),t.showTaskOpt(i)}}},[n("v-icon",{staticClass:"flag",attrs:{color:"pink"}},[t._v("mdi-flag")]),t._v("\n            "+t._s(i.text)+"\n          ")],1)],2)],1)})],2)],1)],1)},T=[],x=(n("ac6a"),n("7514"),n("20d6"),{data:function(){return{view:"current",showTaskOptDlg:!1,showTaskEditDlg:!1,showTaskPoolDlg:!1,taskEditDlgStatus:"create",onEditTaskText:"",onEditTaskParentId:"",onEditTaskFinish:!1,taskExpandIndex:null}},computed:{currentTasks:function(){return this.$store.getters.currentTasks},tasks:function(){return this.$store.state.tasks},RootTasks:function(){var t=this.$store.state.tasks.map(function(t){return{text:t.text,value:t.id}});return t.unshift({text:"It's the final task",value:"na"}),t},taskEditDlgHeadline:function(){return"create"==this.taskEditDlgStatus?"Task Create":"prepend"==this.taskEditDlgStatus?"Task prepend":""},taskEditDlgLabel:function(){return"create"==this.taskEditDlgStatus?"Something plan to do":"prepend"==this.taskEditDlgStatus?"Something to do first":""},currentView:function(){return"current"==this.view}},methods:{showTaskOpt:function(t){this.onEditTask=t,this.showTaskOptDlg=!0},showTaskCreate:function(){this.onEditTaskText="",this.onEditTaskParentId="na",this.openTaskEditDlg("create")},showTaskPrepend:function(){this.onEditTaskText="",this.onEditTaskParentId=this.onEditTask.parentId||this.onEditTask.id,this.openTaskEditDlg("prepend")},showTaskEdit:function(){this.onEditTaskText=this.onEditTask.text,this.onEditTaskParentId=this.onEditTask.parentId||"na",this.openTaskEditDlg("edit")},confirmTaskEdit:function(){if("create"==this.taskEditDlgStatus){var t="na"!=this.onEditTaskParentId?this.onEditTaskParentId:"";this.$store.commit("taskCreate",{text:this.onEditTaskText,parentId:t,current:this.currentView})}if("edit"==this.taskEditDlgStatus){var i="na"!=this.onEditTaskParentId?this.onEditTaskParentId:"";this.$store.commit("taskUpdate",{id:this.onEditTask.id,parentId:this.onEditTask.parentId,text:this.onEditTaskText,updateParentId:i})}if("prepend"==this.taskEditDlgStatus){var n=this.onEditTask.parentId?this.onEditTask.parentId:this.onEditTask.id;this.$store.commit("taskPrepend",{parentId:n,originId:this.onEditTask.id,text:this.onEditTaskText})}this.closeTaskEditDlg()},pickUpTask:function(){this.$store.commit("taskPickUp",{id:this.onEditTask.id,parentId:this.onEditTask.parentId}),this.showTaskOptDlg=!1},finishTask:function(){this.$store.commit("taskFinish",{id:this.onEditTask.id,parentId:this.onEditTask.parentId,text:this.onEditTask.text}),this.showTaskOptDlg=!1},putBackTask:function(){this.$store.commit("taskPutBack",{id:this.onEditTask.id}),this.showTaskOptDlg=!1},deleteTask:function(){this.$store.commit("taskDelete",{id:this.onEditTask.id,parentId:this.onEditTask.parentId}),this.showTaskOptDlg=!1},openTaskEditDlg:function(t){this.taskEditDlgStatus=t,this.onEditTaskFinish=!!this.onEditTask&&this.onEditTask.finish,this.showTaskOptDlg=!1,this.showTaskEditDlg=!0},closeTaskEditDlg:function(){this.showTaskEditDlg=!1},showTaskPool:function(){this.showTaskPoolDlg=!0,this.view="taskPool"},onClickTaskItem:function(t){t.child&&t.child.length>0?this.taskExpandIndex=this.taskExpandIndex==t.id?null:t.id:this.showTaskOpt(t)},taskClass:function(t){var i={};t.child&&t.child.length>0&&(i["has-child"]=!0,t.child.findIndex(function(t){return 1!=t.finish})>=0&&(i["has-todo-child"]=!0)),t.finish&&(i["finish"]=!0);var n=this.currentTasks.findIndex(function(i){return i.id==t.id});return n>=0&&(i["in-current-list"]=!0),i},taskCardClass:function(t){var i=this.taskClass(t);return t.id==this.taskExpandIndex&&(i.expand=!0),i},topTaskText:function(t){if(t.child&&t.child.length>0){var i=t.child.find(function(t){return 1!=t.finish});return i?i.text:t.text}return t.text},progressText:function(t){if(t.child&&t.child.length>0){var i=0;return t.child.forEach(function(t){1!=t.finish&&(i+=1)}),1==t.finish&&(i+=1),i+"/"+(t.child.length+1)}return""},showNextTimeOpt:function(){return"current"==this.view},showFinishOpt:function(){if(!this.onEditTask||this.onEditTask.finish)return!1;if(this.onEditTask.child&&this.onEditTask.child.length>0){var t=this.onEditTask.child.find(function(t){return 1!=t.finish});if(t)return!1}return!0},showPickUpOpt:function(){var t=this;if("current"==this.view)return!1;if(!this.showFinishOpt())return!1;var i=this.currentTasks.findIndex(function(i){return i.id==t.onEditTask.id});return!(i>=0)}},watch:{},mounted:function(){this.$store.commit("init")}}),m=x,g=(n("fcc8"),n("8336")),I=n("b0af"),E=n("99d9"),w=n("ac7c"),b=n("cc20"),_=n("a523"),D=n("169a"),P=n("ce7e"),C=n("0e8f"),O=n("132d"),y=n("a722"),S=n("8860"),V=n("da13"),F=n("1800"),$=n("5d23"),B=n("1baa"),L=n("34c3"),j=n("b974"),N=n("2fa4"),U=n("e0c7"),A=n("a844"),J=n("71d9"),M=n("2a7f"),H=Object(d["a"])(m,v,T,!1,null,"bde8b574",null),R=H.exports;l()(H,{VBtn:g["a"],VCard:I["a"],VCardActions:E["a"],VCardText:E["b"],VCardTitle:E["c"],VCheckbox:w["a"],VChip:b["a"],VContainer:_["a"],VDialog:D["a"],VDivider:P["a"],VFlex:C["a"],VIcon:O["a"],VLayout:y["a"],VList:S["a"],VListItem:V["a"],VListItemAction:F["a"],VListItemContent:$["a"],VListItemGroup:B["a"],VListItemIcon:L["a"],VListItemTitle:$["b"],VSelect:j["a"],VSpacer:N["a"],VSubheader:U["a"],VTextarea:A["a"],VToolbar:J["a"],VToolbarTitle:M["a"]});var G=n("2f62"),q=(n("55dd"),{save:function(t,i){localStorage.setItem(t,JSON.stringify(i))},load:function(t){var i=JSON.parse(localStorage.getItem(t))||[];return"tasks"==t&&i.forEach(function(t){t.child=t.child||[]}),console.log(i),i},guid:function(){return""+Date.now()},getTask:function(t,i,n){if(n){var s=t.find(function(t){return t.id==n});if(s)return s.child.find(function(t){return t.id==i})}return t.find(function(t){return t.id==i})},addTask:function(t,i){if(i.parentId){var n=t.find(function(t){return t.id==i.parentId});n.child=n.child||[],n.child.unshift(i),q.sortTasksByStatus(n.child)}else t.unshift(i),q.sortTasksByStatus(t)},updateTask:function(t,i){var n=null,s=0,e=null;if(i.parentId?(n=t.find(function(t){return t.id==i.parentId}),s=n.child.findIndex(function(t){return t.id==i.id}),e=n.child[s]):(s=t.findIndex(function(t){return t.id==i.id}),e=t[s]),e.text=i.text,void 0!==i.finish&&(e.finish=i.finish,n?q.sortTasksByStatus(n.child):q.sortTasksByStatus(t)),i.updateParentId){var a=t.find(function(t){return t.id==i.updateParentId});e=n?n.child.splice(s,1):t.splice(s,1),a.child=a.child||[],a.child.unshift(e),q.sortTasksByStatus(a.child)}},deleteTask:function(t,i){if(i.parentId){var n=t.find(function(t){return t.id==i.parentId}),s=n.child.findIndex(function(t){return t.id==i.id});s>=0&&n.child.splice(s,1)}else{var e=t.findIndex(function(t){return t.id==i.id});e>=0&&t.splice(e,1)}},sortTasksByStatus:function(t){t=t.sort(function(t,i){var n=t.finish?0:1,s=i.finish?0:1;return n-s})},clearCurrentIndex:function(t,i){var n=i.length,s=i.filter(function(i){var n=q.getTask(t,i.id,i.parentId);return!n.finish});return n!=s.length&&q.save("currentTaskIndex",i),s}}),z=q;s["a"].use(G["a"]);var K=new G["a"].Store({state:{currentTaskIndex:[],tasks:[]},getters:{currentTasks:function(t){return t.currentTaskIndex.map(function(i){return z.getTask(t.tasks,i.id,i.parentId)})}},mutations:{init:function(t){t.currentTaskIndex=z.load("currentTaskIndex"),t.tasks=z.load("tasks")},taskCreate:function(t,i){var n={id:z.guid(),parentId:i.parentId||"",text:i.text};z.addTask(t.tasks,n),z.save("tasks",t.tasks),i.current&&(t.currentTaskIndex.unshift({id:n.id,parentId:n.parentId}),z.save("currentTaskIndex",t.currentTaskIndex))},taskUpdate:function(t,i){z.updateTask(t.tasks,i),z.save("tasks",t.tasks),void 0!==i.finish&&z.clearCurrentIndex(t.tasks,t.currentTaskIndex)},taskPrepend:function(t,i){var n=z.getTask(t.tasks,i.parentId);if(n){n.child=n.child||[];var s={id:z.guid(),parentId:n.id,text:i.text};n.child.unshift(s),z.sortTasksByStatus(n.child),z.save("tasks",t.tasks);var e=t.currentTaskIndex.findIndex(function(t){return t.id==i.originId});e>=0&&(t.currentTaskIndex.splice(e,1,{id:s.id,parentId:s.parentId}),z.save("currentTaskIndex",t.currentTaskIndex))}},taskPickUp:function(t,i){t.currentTaskIndex.unshift({id:i.id,parentId:i.parentId}),z.save("currentTaskIndex",t.currentTaskIndex)},taskFinish:function(t,i){i.finish=!0,z.updateTask(t.tasks,i),z.save("tasks",t.tasks),t.currentTaskIndex=z.clearCurrentIndex(t.tasks,t.currentTaskIndex)},taskPutBack:function(t,i){var n=t.currentTaskIndex.findIndex(function(t){return t.id==i.id});n>=0&&t.currentTaskIndex.splice(n,1),z.save("currentTaskIndex",t.currentTaskIndex)},taskDelete:function(t,i){z.deleteTask(t.tasks,i),z.save("tasks",t.tasks);var n=t.currentTaskIndex.findIndex(function(t){return t.id==i.id});n>=0&&t.currentTaskIndex.splice(n,1),z.save("currentTaskIndex",t.currentTaskIndex)}},actions:{}}),Q=K,W=n("8c4f");s["a"].config.productionTip=!1,s["a"].use(W["a"]);var X=new W["a"]({routes:[{path:"/",component:R}]});new s["a"]({vuetify:p,router:X,store:Q,render:function(t){return t(h)}}).$mount("#app")},"9be9":function(t,i,n){},fcc8:function(t,i,n){"use strict";var s=n("9be9"),e=n.n(s);e.a}});